import{ai as H,a3 as T,G as C,B as X,c as y,aD as Y,a1 as j,o as B,ah as D}from"./UanrUq0C.js";function W(e){return H()?(T(e),!0):!1}function E(e){return typeof e=="function"?e():C(e)}const A=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const G=Object.prototype.toString,F=e=>G.call(e)==="[object Object]",S=()=>{},N=Q();function Q(){var e,t;return A&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function g(e){var t;const i=E(e);return(t=i==null?void 0:i.$el)!=null?t:i}const M=A?window:void 0,V=A?window.navigator:void 0;function h(...e){let t,i,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,o,r]=e,t=M):[t,i,o,r]=e,!t)return S;Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]);const c=[],u=()=>{c.forEach(f=>f()),c.length=0},d=(f,m,n,s)=>(f.addEventListener(m,n,s),()=>f.removeEventListener(m,n,s)),l=j(()=>[g(t),E(r)],([f,m])=>{if(u(),!f)return;const n=F(m)?{...m}:m;c.push(...i.flatMap(s=>o.map(p=>d(f,s,p,n))))},{immediate:!0,flush:"post"}),v=()=>{l(),u()};return W(v),v}let O=!1;function $(e,t,i={}){const{window:o=M,ignore:r=[],capture:c=!0,detectIframe:u=!1}=i;if(!o)return S;N&&!O&&(O=!0,Array.from(o.document.body.children).forEach(n=>n.addEventListener("click",S)),o.document.documentElement.addEventListener("click",S));let d=!0;const l=n=>r.some(s=>{if(typeof s=="string")return Array.from(o.document.querySelectorAll(s)).some(p=>p===n.target||n.composedPath().includes(p));{const p=g(s);return p&&(n.target===p||n.composedPath().includes(p))}}),f=[h(o,"click",n=>{const s=g(e);if(!(!s||s===n.target||n.composedPath().includes(s))){if(n.detail===0&&(d=!l(n)),!d){d=!0;return}t(n)}},{passive:!0,capture:c}),h(o,"pointerdown",n=>{const s=g(e);d=!l(n)&&!!(s&&!n.composedPath().includes(s))},{passive:!0}),u&&h(o,"blur",n=>{setTimeout(()=>{var s;const p=g(e);((s=o.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(p!=null&&p.contains(o.document.activeElement))&&t(n)},0)})].filter(Boolean);return()=>f.forEach(n=>n())}function q(){const e=y(!1),t=D();return t&&B(()=>{e.value=!0},t),e}function x(e){const t=q();return X(()=>(t.value,!!e()))}function z(e,t={}){const{window:i=M}=t,o=x(()=>i&&"matchMedia"in i&&typeof i.matchMedia=="function");let r;const c=y(!1),u=v=>{c.value=v.matches},d=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",u):r.removeListener(u))},l=Y(()=>{o.value&&(d(),r=i.matchMedia(E(e)),"addEventListener"in r?r.addEventListener("change",u):r.addListener(u),c.value=r.matches)});return W(()=>{l(),d(),r=void 0}),c}const R={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function J(e={}){const{type:t="page",touch:i=!0,resetOnTouchEnds:o=!1,initialValue:r={x:0,y:0},window:c=M,target:u=c,scroll:d=!0,eventFilter:l}=e;let v=null;const f=y(r.x),m=y(r.y),n=y(null),s=typeof t=="function"?t:R[t],p=a=>{const w=s(a);v=a,w&&([f.value,m.value]=w,n.value="mouse")},L=a=>{if(a.touches.length>0){const w=s(a.touches[0]);w&&([f.value,m.value]=w,n.value="touch")}},b=()=>{if(!v||!c)return;const a=s(v);v instanceof MouseEvent&&a&&(f.value=a[0]+c.scrollX,m.value=a[1]+c.scrollY)},k=()=>{f.value=r.x,m.value=r.y},I=l?a=>l(()=>p(a),{}):a=>p(a),P=l?a=>l(()=>L(a),{}):a=>L(a),_=l?()=>l(()=>b(),{}):()=>b();if(u){const a={passive:!0};h(u,["mousemove","dragover"],I,a),i&&t!=="movement"&&(h(u,["touchstart","touchmove"],P,a),o&&h(u,"touchend",k,a)),d&&t==="page"&&h(c,"scroll",_,{passive:!0})}return{x:f,y:m,sourceType:n}}function K(e={},t={}){const{navigator:i=V}=t,o=i,r=x(()=>o&&"canShare"in o);return{isSupported:r,share:async(u={})=>{if(r.value){const d={...E(e),...E(u)};let l=!0;if(d.files&&o.canShare&&(l=o.canShare({files:d.files})),l)return o.share(d)}}}}export{z as a,J as b,$ as o,K as u};
